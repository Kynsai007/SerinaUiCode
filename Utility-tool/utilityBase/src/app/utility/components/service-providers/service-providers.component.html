
  
  <!-- <div class="d-flex justify-content-center h-ele" style="margin-top: -18px;display: none;">
    <div
      *ngIf="listLoading; else spinner"
      class="scroller"
      infiniteScroll
      [infiniteScrollDistance]="2"
      [scrollWindow]="false"
      (scrolled)="onScroll()"
    >
      <div class="animate-bottom">
        <div
          *ngIf="SPListDispaly.length != 0"
          class="d_flex"
          style="margin-left: 2%"
        >
          <div
            *ngFor="let sp of SPListDispaly; let i = index"
            class="card m3 box_shadow card_shape"
          >
            <div class="card-body" (click)="frUpdate(sp)" >
              <h5 class="card-title f-14">{{ sp.ServiceProviderName }} - {{ sp.ServiceProviderCode }}</h5>
              <h6 class="card-subtitle mb-2">
                <small>{{ sp.EntityName }}</small>
              </h6>
              <div class="btn_position">
                <div class="d-flex justify-content-between">
                  <div
                    *ngIf="sp.OnboardedStatus == 'Onboarded'"
                    class="f-12 mt-1"
                    style="color: green"
                  >
                    <i class="fa fa-check-circle" aria-hidden="true"></i>
                    Onboarded
                  </div>
                  <div
                    *ngIf="sp.OnboardedStatus == 'Not-Onboarded'"
                    class="f-12 mt-1"
                    style="color: rgb(211, 45, 45)"
                  >
                    Not-Onboarded
                  </div>
                  <div>
                    FR Update<button
                      class="btn btnbg f-13 ml-3"
                      (click)="frUpdate(sp)"
                    >
                      <i class="fa fa-arrow-right" style="color: #ffffff"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="SPListDispaly.length == 0" class="f-13 mt-5">
          No Data found.
        </div>
      </div>
    </div>
    <ng-template #spinner>
      <div class="loader"></div>
    </ng-template>
  </div> -->

  <div class="venbody">
    <div class="fil-part">
      <!-- Add content for the left side -->
      <div class="head-part">
        <h3>Filters({{activeFilterCount}})</h3>
        <div class="icon">
          <span class="material-icons fil-icon">filter_list</span>
        </div>
      </div>
      <!-- <div class="search-box">
        <input
          type="text"
          placeholder="Vendor search"
          id="vendr_c"
          [(ngModel)]="selected_Vendor"
          (input)="searchVendordata($event)"
          name="vendor"
          style="border: none; outline: none; flex: 1;"
        />
        <button (click)="selectedVendor(selected_Vendor)" class="srch-button">
          <span class="material-icons search-icon">search</span>
        </button>
      </div> -->
      <!-- <div class="fil-checkb">
        <h4>Status</h4>
        <div class="checkbox-group">
          <label class="custom-checkbox" *ngFor="let item of statusItems">
            <input 
              type="checkbox" 
              [(ngModel)]="item.checked"
              (change)="onStatusChange(item)"
            />
            <div class="status-container">
              <span
                class="status-indicator"
                [ngClass]="
                  item.label === 'Onboarded'
                    ? 'indicate_success'
                    : item.label === 'Not Onboarded'
                    ? 'indicate_failure'
                    : 'indicate_warning'
                ">
              </span>
              <span>{{ item.label }}</span>
            </div>
          </label>
        </div>
      </div> -->
      <div class="fil-proj">
        <div>
          <h4>Service Provider</h4>
          <p-autoComplete
            placeholder="Service Provider search"
            id="vendr_c"
            (onSelect)="selectService($event)"
            [group]="false"
            [suggestions]="filteredService"
            (completeMethod)="filterServices($event)"
            field="ServiceProviderName"
            [dropdown]="true"
            [completeOnFocus]="true"
            [autofocus]="true"
            name="ServiceProviderName"
            [(ngModel)]="selected_sp"
          >
          </p-autoComplete>
        </div>
        <div class="entity-drop">
          <h4>Entity</h4>
          <p-autoComplete
            placeholder="Entity search"
            id="entity_v"
            (onSelect)="selectEntity($event)"
            [group]="false"
            [suggestions]="filteredEnt"
            (completeMethod)="filterEntity($event)"
            field="EntityName"
            [dropdown]="true"
            [completeOnFocus]="true"
            [autofocus]="true"
            name="EntityName"
            [(ngModel)]="selected_ent"
          >
          </p-autoComplete>
        </div>
        <div class="status-drop">
          <h4>Status</h4>
          <select
            class="form-control inputField f-12"
            [(ngModel)]="onboard_status"
            (change)="selectedType($event.target.value)"
          >
            <option value="" style="font-weight: 500" disabled selected>
              Select status
            </option>
            <option *ngFor="let element of onBoardArray" [value]="element.name">
              {{ element.name }}
            </option>
          </select>
        </div>
        <div class="butn-div">
          <button
            type="button"
            class="btn btnadd btn-sm f-12 ml-2"
            (click)="filter()"
            >
            Apply Filter
          </button>
        </div>
      </div>
  </div>
  <div class="d-flex justify-content-center">
      <!-- Main content area -->
          <div
            *ngIf="listLoading; else spinner"
            class="scroller"
            infiniteScroll
            [infiniteScrollDistance]="2"
            [scrollWindow]="false"
            (scrolled)="onScroll()"
            >
            <div class="animate-bottom">
            <div
              *ngIf="SPListDispaly.length != 0"
              class="d_flex vendor_div"
            >
              <div
                *ngFor="let vendor of SPListDispaly; let i = index"
                class="card  box_shadow card_shape"
                >
                <div
                  class="status-badge"
                  [ngClass]="vendor.OnboardedStatus == 'Onboarded' ? 'sb_color' : 'rb_color'"
                >
                  <span
                    class="status-indicator"
                    [ngClass]="vendor.OnboardedStatus == 'Onboarded' ? 'indicate_success' : 'indicate_failure'"
                  ></span>
                  {{vendor.OnboardedStatus}}
                </div>
                <!-- <div class="card-body"> -->
                  <div class="typ-dis">
                    <div class="card-typ">
                      <img src="assets/Group 145@2x.png" *ngIf="!vendor?.ocrEngine?.includes('OpenAI')">
                      <img src="assets/Group 300@2x.png" *ngIf="vendor?.ocrEngine?.includes('OpenAI')">
                      <span>{{ vendor.ocrEngine }}</span>
                    </div>
                    <div class="edt-button"  (click)="vendor?.ocrEngine?.includes('OpenAI') ? open_ai_vendor(vendor.idVendor,vendor.VendorName,vendor?.ocrEngine ): frUpdate(vendor)">
                      <img src="assets/Group 146@2x.png">
                    </div>
                  </div>
                  <div class="full-title">
                    <div class="vendor-det">
                      <span class="card-subtitle">{{ vendor.ServiceProviderName }} </span><br>
                      <span class="card-subcode">{{vendor.ServiceProviderCode}}</span>
                    </div>
                    <div class="title-icon">
                      <img src="assets/Group 86@2x.png">
                    </div>
                  </div>
                  <div class="full-ent">
                    <div class="entity-det">
                      <span class="card-subtitle">{{ vendor.EntityName }} </span><br>
                      <span class="card-subcode">{{vendor.EntityCode}}</span>
                    </div>
                    <div class="title-icon">
                      <img src="assets/Group 87@2x.png">
                    </div>
                  </div>
                  <div class="radio-input">
                    <label>
                      <input
                        type="radio"
                        id="value-1"
                        name="value-radio-{{i}}" 
                        value="1"
                        [checked]="vendor.ocrEngine !== 'OpenAI(Global)'"
                      />
                      <span>DI</span>
                    </label>
                    <label>
                      <input
                        type="radio"
                        id="value-2"
                        name="value-radio-{{i}}" 
                        value="2"
                        [checked]="vendor.ocrEngine === 'OpenAI(Global)'"
                      />
                      <span>Open AI</span>
                    </label>
                    <span class="selection"></span>
                  </div>
  
                  <!-- <h5 class="card-subtitle f-14">
                    {{ vendor.VendorName }} - {{vendor.VendorCode}}
                  </h5> -->
                  <!-- <h6 class="card-subtitle mb-2">
                    <small>{{ vendor.EntityName }} - {{ vendor.EntityCode }}</small>
                  </h6> -->
                  <!-- <div class="btn_position">
                    <div class="d-flex justify-content-between">
                      <div>
                        FR Update
                        <button
                          class="btn btnbg f-13 ml-3"
                          (click)="frUpdate(vendor)"
                        >
                          <i
                            class="fa fa-arrow-right"
                            style="color: #ffffff"
                          ></i>
                        </button>
                      </div>
                    </div>
                  </div> -->
                <!-- </div> -->
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="SPListDispaly.length == 0" class="f-13 error-msg">
          No Data found.
        </div>
        <ng-template #spinner>
          <div class="loader"></div>
        </ng-template>
    </div>
  </div>

  <div
    class="modal fade bd-example-modal-lg"
    id="exampleModalCenter"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">New Service Provider</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
            id="closebtn"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h6 style="font-size: small; color: #273c75">Service Provider Details</h6>
          <form [formGroup]="spForm" (ngSubmit)="saveSP()" class="row">
            <div class="col-4">
              <label for="spName" style="font-size: x-small; color: red"
                >Service Provider Name*</label
              >
              <input
                type="text"
                formControlName="SPName"
                id="SPName"
                class="form-control form-control-sm"
                required
              />
              <div *ngIf="f.SPName.errors">
                <small class="text-danger">Please provide a service provider name.</small>
              </div>
            </div>
  
            <div class="col-4">
              <label for="Email" style="font-size: x-small; color: red"
                >Email-Id*</label
              >
              <input
                type="email"
                formControlName="Email"
                id="Email"
                class="form-control form-control-sm"
                required
              />
              <div *ngIf="f.Email.errors">
                <small class="text-danger">Please provide a valid email.</small>
              </div>
            </div>
            <div class="col-4">
              <label for="Contact" style="font-size: x-small">Contact No.</label>
              <input
                type="number"
                formControlName="Contact"
                id="Contact"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-8">
              <label for="Address" style="font-size: x-small">Address</label>
              <input
                type="text"
                formControlName="Address"
                id="Address"
                class="form-control"
              />
            </div>
            <div class="col-4">
              <label for="SPCode" style="font-size: x-small"
                >Service Provider Code</label
              >
              <input
                type="number"
                formControlName="SPCode"
                id="SPCode"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-8">
              <label for="Desc" style="font-size: x-small">Description</label>
              <input
                type="text"
                formControlName="Desc"
                id="Desc"
                class="form-control"
              />
            </div>
            <div class="col-4">
              <label for="Website" style="font-size: x-small">Website</label>
              <input
                type="text"
                formControlName="Website"
                id="Website"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="FirstName" style="font-size: x-small">Firstname</label>
              <input
                type="text"
                formControlName="FirstName"
                id="FirstName"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="LastName" style="font-size: x-small">Lastname</label>
              <input
                type="text"
                formControlName="LastName"
                id="LastName"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="Designation" style="font-size: x-small"
                >Designation</label
              >
              <input
                type="text"
                formControlName="Designation"
                id="Designation"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="TRNNumber" style="font-size: x-small">TRN Number</label>
              <input
                type="text"
                formControlName="TRNNumber"
                id="TRNNumber"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="TradeLicense" style="font-size: x-small"
                >Trade License</label
              >
              <input
                type="text"
                formControlName="TradeLicense"
                id="TradeLicense"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="VATLicense" style="font-size: x-small"
                >VAT License</label
              >
              <input
                type="text"
                formControlName="VATLicense"
                id="VATLicense"
                class="form-control form-control-sm"
              />
            </div>
  
            <h6 class="col-12 p-3" style="font-size: small; color: #273c75">
              SP Account Details
            </h6>
            <div class="col-8">
              <label for="Account" style="font-size: x-small; color: red"
                >Account*</label
              >
              <input
                type="text"
                formControlName="Account"
                id="Account"
                class="form-control"
                required
              />
              <div *ngIf="f.Account.errors">
                <small class="text-danger">provide a valid account.</small>
              </div>
            </div>
            <div class="col-4">
              <label for="AccountType" style="font-size: x-small; color: red"
                >Account Type*</label
              >
              <input
                type="text"
                formControlName="AccountType"
                id="AccountType"
                class="form-control form-control-sm"
                required
              />
              <div *ngIf="f.AccountType.errors">
                <small class="text-danger">Please provide an account type.</small>
              </div>
            </div>
            <div class="col-4">
              <label for="Country" style="font-size: x-small">Country</label>
              <input
                type="text"
                formControlName="Country"
                id="Country"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="City" style="font-size: x-small">City</label>
              <input
                type="text"
                formControlName="City"
                id="City"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-4">
              <label for="LocationCode" style="font-size: x-small"
                >Location Code</label
              >
              <input
                type="text"
                formControlName="LocationCode"
                id="LocationCode"
                class="form-control form-control-sm"
              />
            </div>
            <div class="col-12 p-3">
              <input
                type="submit"
                class="btn btnbg btn-sm"
                style="float: right"
                value="Add Service Provider"
              /><span
                *ngIf="submitted"
                class="spinner-border spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
            </div>
          </form>
        </div>
        <div class="modal-footer"></div>
      </div>
    </div>
  </div>
  